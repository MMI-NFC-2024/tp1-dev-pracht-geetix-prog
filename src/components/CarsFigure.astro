---
import * as Plot from "@observablehq/plot";
import { JSDOM } from "jsdom";
import cars from "../../cars.json" assert { type: "json" };
const { options } = Astro.props;

const plot = Plot.plot({ ...options, document: new JSDOM("").window.document });
const optionsPlot = {
    marks: [
        Plot.ruleY([0]),
        Plot.barY(cars, {
            x: "year",
            y: "power (hp)",
            sort: { x: "y", reverse: true },
        }),
    ],
};
---

<div class="card"
    set:html={Plot.plot({
        ...optionsPlot,
        document: new JSDOM("").window.document,
    }).outerHTML}
/>